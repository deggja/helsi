{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Log workout\", -1 /* HOISTED */);\nconst _hoisted_3 = [\"value\"];\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = [\"onUpdate:modelValue\"];\nconst _hoisted_6 = [\"onUpdate:modelValue\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedWorkout = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.fetchExercises && $options.fetchExercises(...args))\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.workouts, workout => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: workout.Name,\n      value: workout.Name\n    }, _toDisplayString(workout.Name), 9 /* TEXT, PROPS */, _hoisted_3);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.selectedWorkout]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.workoutDate = $event),\n    placeholder: \"Workout Date\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.workoutDate]]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredExercises, exercise => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"exercises\",\n      key: exercise.Name\n    }, [_createElementVNode(\"h2\", null, _toDisplayString(exercise.Name), 1 /* TEXT */), exercise.SupersetWith ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"h4\", null, \"Superset with: \" + _toDisplayString(exercise.SupersetWith), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(exercise.Sets, setIndex => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        class: \"set-details\",\n        key: setIndex\n      }, [_createTextVNode(\" Set \" + _toDisplayString(setIndex) + \": \", 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n        type: \"number\",\n        \"onUpdate:modelValue\": $event => exercise.Reps[setIndex - 1] = $event,\n        placeholder: \"Reps\"\n      }, null, 8 /* PROPS */, _hoisted_5), [[_vModelText, exercise.Reps[setIndex - 1]]]), _withDirectives(_createElementVNode(\"input\", {\n        type: \"number\",\n        \"onUpdate:modelValue\": $event => exercise.Weights[setIndex - 1] = $event,\n        placeholder: \"Weight (kg)\"\n      }, null, 8 /* PROPS */, _hoisted_6), [[_vModelText, exercise.Weights[setIndex - 1]]])]);\n    }), 128 /* KEYED_FRAGMENT */))]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.saveWorkout && $options.saveWorkout(...args))\n  }, \"Save Workout\")]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_createElementBlock","_hoisted_1","_hoisted_2","_cache","$event","$data","selectedWorkout","onChange","args","$options","fetchExercises","_Fragment","_renderList","workouts","workout","Name","value","_hoisted_3","type","workoutDate","placeholder","filteredExercises","exercise","_toDisplayString","SupersetWith","_hoisted_4","_createCommentVNode","Sets","setIndex","_createTextVNode","Reps","_hoisted_5","Weights","_hoisted_6","onClick","saveWorkout"],"sources":["/Users/drd/Repos/Public/helsi/frontend/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>Log workout</h1>\n    <select v-model=\"selectedWorkout\" @change=\"fetchExercises\">\n      <option v-for=\"workout in workouts\" :key=\"workout.Name\" :value=\"workout.Name\">\n        {{ workout.Name }}\n      </option>\n    </select>\n\n    <input type=\"date\" v-model=\"workoutDate\" placeholder=\"Workout Date\">\n\n    <div class=\"exercises\" v-for=\"exercise in filteredExercises\" :key=\"exercise.Name\">\n    <h2>{{ exercise.Name }}</h2>\n    <div v-if=\"exercise.SupersetWith\">\n        <h4>Superset with: {{ exercise.SupersetWith }}</h4>\n    </div>\n    <div class=\"set-details\" v-for=\"setIndex in exercise.Sets\" :key=\"setIndex\">\n        Set {{ setIndex }}:\n        <input type=\"number\" v-model=\"exercise.Reps[setIndex-1]\" placeholder=\"Reps\"/>\n        <input type=\"number\" v-model=\"exercise.Weights[setIndex-1]\" placeholder=\"Weight (kg)\"/>\n    </div>\n</div>\n\n    <button @click=\"saveWorkout\">Save Workout</button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data() {\n    return {\n      workouts: [],\n      exercises: [],\n      selectedWorkout: null,\n      hideExercises: {},\n      workoutDate: ''\n    };\n  },\n  created() {\n    this.loadWorkouts();\n  },\n  computed: {\n    filteredExercises() {\n      return this.exercises.filter(exercise => !this.hideExercises[exercise.Name]);\n    }\n  },\n  methods: {\n    loadWorkouts() {\n    axios.get('/api/workouts').then(response => {\n      this.workouts = response.data;\n    }).catch(error => {\n      console.error(\"Error loading workouts:\", error);\n    });\n  },\n  fetchExercises() {\n    const workout = this.workouts.find(w => w.Name === this.selectedWorkout);\n    if (!workout) return;\n\n    this.exercises = workout.Exercises.map(exercise => {\n        // Initialize reps and weights if they are not already initialized\n        exercise.Reps = exercise.Reps || new Array(exercise.Sets).fill(0);\n        exercise.Weights = exercise.Weights || new Array(exercise.Sets).fill(0);\n        return exercise;\n    });\n\n    this.disabledExercises = {};  // Reset disabled exercises when a new workout is selected\n},\n\n  handleInput(exerciseName) {\n    const currentExercise = this.exercises.find(ex => ex.Name === exerciseName);\n    const weightsNotEmpty = currentExercise.Weights.some(weight => weight > 0);\n\n    if (exerciseName === \"Benkpress med stong\") {\n      this.hideExercises[\"Benkpress med manuala\"] = weightsNotEmpty;\n      this.hideExercises[\"Benkpress med stong\"] = !weightsNotEmpty;\n    } else if (exerciseName === \"Benkpress med manuala\") {\n      this.hideExercises[\"Benkpress med stong\"] = weightsNotEmpty;\n      this.hideExercises[\"Benkpress med manuala\"] = !weightsNotEmpty;\n    }\n\n    if (!weightsNotEmpty) {\n      this.hideExercises[\"Benkpress med stong\"] = false;\n      this.hideExercises[\"Benkpress med manuala\"] = false;\n    }\n\n    if (currentExercise.SupersetWith) {\n        const partnerExercise = this.exercises.find(ex => ex.Name === currentExercise.SupersetWith);\n        if (weightsNotEmpty) {\n            this.hideExercises[partnerExercise.Name] = true;\n        } else {\n            this.hideExercises[partnerExercise.Name] = false;\n        }\n    }\n  },\n  saveWorkout() {\n      if (!this.workoutDate) {\n        alert('Please select a workout date.');\n        return;\n      }\n\n      const workoutData = {\n        Name: this.selectedWorkout,\n        Date: this.workoutDate,\n        Exercises: this.exercises\n      };\n\n      console.log(\"Saving workout session:\", workoutData);\n      axios.post('/api/log', workoutData)\n        .then(() => {\n            alert('Workout saved!');\n        })\n        .catch(error => {\n            console.error(\"Error saving workout:\", error);\n            console.error(\"Error details:\", error.response.data);\n        });\n    }\n}\n\n};\n</script>\n\n<style lang=\"scss\">\n$background-color: #000;\n$text-color: #fff;\n$button-color: #673ab7;\n$input-background: #9c27b0;\n$input-text-color: #fff;\n\n.container {\n  background-color: $background-color;\n  color: $text-color;\n  padding: 20px;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 600px;\n  margin: 20px auto;\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n}\n\nselect, input[type=\"number\"] {\n  width: 100%;\n  padding: 8px;\n  margin: 10px 0;\n  background-color: $input-background;\n  color: $input-text-color;\n  border: 1px solid darken($input-background, 15%);\n  border-radius: 4px;\n  outline: none;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n\n  &::placeholder {\n    color: lighten($input-text-color, 20%);\n  }\n}\n\nbutton {\n  width: 100%;\n  padding: 10px;\n  background-color: $button-color;\n  color: $text-color;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: lighten($button-color, 10%);\n  }\n}\n\n.exercises {\n  margin-top: 20px;\n}\n\n.exercise-sets {\n  display: flex;\n  justify-content: space-between;\n  input {\n    flex: 1;\n    &:not(:last-child) {\n      margin-right: 10px;\n    }\n  }\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAW;gCACpBC,mBAAA,CAAoB,YAAhB,aAAW;mBAFnB;;EAAAC,GAAA;AAAA;mBAAA;mBAAA;;uBACEC,mBAAA,CAuBM,OAvBNC,UAuBM,GAtBJC,UAAoB,E,gBACpBJ,mBAAA,CAIS;IAPb,uBAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAGqBC,KAAA,CAAAC,eAAe,GAAAF,MAAA;IAAGG,QAAM,EAAAJ,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAAC,cAAA,IAAAD,QAAA,CAAAC,cAAA,IAAAF,IAAA,CAAc;yBACvDR,mBAAA,CAESW,SAAA,QANfC,WAAA,CAIgCP,KAAA,CAAAQ,QAAQ,EAAnBC,OAAO;yBAAtBd,mBAAA,CAES;MAF4BD,GAAG,EAAEe,OAAO,CAACC,IAAI;MAAGC,KAAK,EAAEF,OAAO,CAACC;wBACnED,OAAO,CAACC,IAAI,wBALvBE,UAAA;2FAGqBZ,KAAA,CAAAC,eAAe,E,mBAMhCR,mBAAA,CAAoE;IAA7DoB,IAAI,EAAC,MAAM;IATtB,uBAAAf,MAAA,QAAAA,MAAA,MAAAC,MAAA,IASgCC,KAAA,CAAAc,WAAW,GAAAf,MAAA;IAAEgB,WAAW,EAAC;iDAAzBf,KAAA,CAAAc,WAAW,E,sBAEvCnB,mBAAA,CAUEW,SAAA,QArBNC,WAAA,CAW8CH,QAAA,CAAAY,iBAAiB,EAA7BC,QAAQ;yBAAtCtB,mBAAA,CAUE;MAVGH,KAAK,EAAC,WAAW;MAAwCE,GAAG,EAAEuB,QAAQ,CAACP;QAC5EjB,mBAAA,CAA4B,YAAAyB,gBAAA,CAArBD,QAAQ,CAACP,IAAI,kBACTO,QAAQ,CAACE,YAAY,I,cAAhCxB,mBAAA,CAEM,OAfVyB,UAAA,GAcQ3B,mBAAA,CAAmD,YAA/C,iBAAe,GAAAyB,gBAAA,CAAGD,QAAQ,CAACE,YAAY,iB,KAdnDE,mBAAA,iB,kBAgBI1B,mBAAA,CAIMW,SAAA,QApBVC,WAAA,CAgBgDU,QAAQ,CAACK,IAAI,EAAzBC,QAAQ;2BAAxC5B,mBAAA,CAIM;QAJDH,KAAK,EAAC,aAAa;QAAoCE,GAAG,EAAE6B;UAhBrEC,gBAAA,CAgB+E,OACnE,GAAAN,gBAAA,CAAGK,QAAQ,IAAG,IAClB,iB,gBAAA9B,mBAAA,CAA6E;QAAtEoB,IAAI,EAAC,QAAQ;QAlB5B,uBAAAd,MAAA,IAkBsCkB,QAAQ,CAACQ,IAAI,CAACF,QAAQ,QAAAxB,MAAA;QAAKgB,WAAW,EAAC;8BAlB7EW,UAAA,I,cAkBsCT,QAAQ,CAACQ,IAAI,CAACF,QAAQ,O,mBACpD9B,mBAAA,CAAuF;QAAhFoB,IAAI,EAAC,QAAQ;QAnB5B,uBAAAd,MAAA,IAmBsCkB,QAAQ,CAACU,OAAO,CAACJ,QAAQ,QAAAxB,MAAA;QAAKgB,WAAW,EAAC;8BAnBhFa,UAAA,I,cAmBsCX,QAAQ,CAACU,OAAO,CAACJ,QAAQ,O;;kCAI3D9B,mBAAA,CAAkD;IAAzCoC,OAAK,EAAA/B,MAAA,QAAAA,MAAA,UAAAK,IAAA,KAAEC,QAAA,CAAA0B,WAAA,IAAA1B,QAAA,CAAA0B,WAAA,IAAA3B,IAAA,CAAW;KAAE,cAAY,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}