{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      workouts: [],\n      exercises: [],\n      selectedWorkout: null,\n      hideExercises: {},\n      workoutDate: ''\n    };\n  },\n  created() {\n    this.loadWorkouts();\n  },\n  computed: {\n    filteredExercises() {\n      return this.exercises.filter(exercise => !this.hideExercises[exercise.Name]);\n    }\n  },\n  methods: {\n    loadWorkouts() {\n      axios.get('/api/workouts').then(response => {\n        this.workouts = response.data;\n      }).catch(error => {\n        console.error(\"Error loading workouts:\", error);\n      });\n    },\n    fetchExercises() {\n      const workout = this.workouts.find(w => w.Name === this.selectedWorkout);\n      if (!workout) return;\n      this.exercises = workout.Exercises.map(exercise => {\n        // Initialize reps and weights if they are not already initialized\n        exercise.Reps = exercise.Reps || new Array(exercise.Sets).fill(0);\n        exercise.Weights = exercise.Weights || new Array(exercise.Sets).fill(0);\n        return exercise;\n      });\n      this.disabledExercises = {}; // Reset disabled exercises when a new workout is selected\n    },\n    handleInput(exerciseName) {\n      const currentExercise = this.exercises.find(ex => ex.Name === exerciseName);\n      const weightsNotEmpty = currentExercise.Weights.some(weight => weight > 0);\n      if (exerciseName === \"Benkpress med stong\") {\n        this.hideExercises[\"Benkpress med manuala\"] = weightsNotEmpty;\n        this.hideExercises[\"Benkpress med stong\"] = !weightsNotEmpty;\n      } else if (exerciseName === \"Benkpress med manuala\") {\n        this.hideExercises[\"Benkpress med stong\"] = weightsNotEmpty;\n        this.hideExercises[\"Benkpress med manuala\"] = !weightsNotEmpty;\n      }\n      if (!weightsNotEmpty) {\n        this.hideExercises[\"Benkpress med stong\"] = false;\n        this.hideExercises[\"Benkpress med manuala\"] = false;\n      }\n      if (currentExercise.SupersetWith) {\n        const partnerExercise = this.exercises.find(ex => ex.Name === currentExercise.SupersetWith);\n        if (weightsNotEmpty) {\n          this.hideExercises[partnerExercise.Name] = true;\n        } else {\n          this.hideExercises[partnerExercise.Name] = false;\n        }\n      }\n    },\n    saveWorkout() {\n      if (!this.workoutDate) {\n        alert('Please select a workout date.');\n        return;\n      }\n      const workoutData = {\n        Name: this.selectedWorkout,\n        Date: this.workoutDate,\n        Exercises: this.exercises\n      };\n      console.log(\"Saving workout session:\", workoutData);\n      axios.post('/api/log', workoutData).then(() => {\n        alert('Workout saved!');\n      }).catch(error => {\n        console.error(\"Error saving workout:\", error);\n        console.error(\"Error details:\", error.response.data);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","workouts","exercises","selectedWorkout","hideExercises","workoutDate","created","loadWorkouts","computed","filteredExercises","filter","exercise","Name","methods","get","then","response","catch","error","console","fetchExercises","workout","find","w","Exercises","map","Reps","Array","Sets","fill","Weights","disabledExercises","handleInput","exerciseName","currentExercise","ex","weightsNotEmpty","some","weight","SupersetWith","partnerExercise","saveWorkout","alert","workoutData","Date","log","post"],"sources":["/Users/drd/Repos/Public/helsi/frontend/src/App.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>Log workout</h1>\n    <select v-model=\"selectedWorkout\" @change=\"fetchExercises\">\n      <option v-for=\"workout in workouts\" :key=\"workout.Name\" :value=\"workout.Name\">\n        {{ workout.Name }}\n      </option>\n    </select>\n\n    <input type=\"date\" v-model=\"workoutDate\" placeholder=\"Workout Date\">\n\n    <div class=\"exercises\" v-for=\"exercise in filteredExercises\" :key=\"exercise.Name\">\n    <h2>{{ exercise.Name }}</h2>\n    <div v-if=\"exercise.SupersetWith\">\n        <h4>Superset with: {{ exercise.SupersetWith }}</h4>\n    </div>\n    <div class=\"set-details\" v-for=\"setIndex in exercise.Sets\" :key=\"setIndex\">\n        Set {{ setIndex }}:\n        <input type=\"number\" v-model=\"exercise.Reps[setIndex-1]\" placeholder=\"Reps\"/>\n        <input type=\"number\" v-model=\"exercise.Weights[setIndex-1]\" placeholder=\"Weight (kg)\"/>\n    </div>\n</div>\n\n    <button @click=\"saveWorkout\">Save Workout</button>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data() {\n    return {\n      workouts: [],\n      exercises: [],\n      selectedWorkout: null,\n      hideExercises: {},\n      workoutDate: ''\n    };\n  },\n  created() {\n    this.loadWorkouts();\n  },\n  computed: {\n    filteredExercises() {\n      return this.exercises.filter(exercise => !this.hideExercises[exercise.Name]);\n    }\n  },\n  methods: {\n    loadWorkouts() {\n    axios.get('/api/workouts').then(response => {\n      this.workouts = response.data;\n    }).catch(error => {\n      console.error(\"Error loading workouts:\", error);\n    });\n  },\n  fetchExercises() {\n    const workout = this.workouts.find(w => w.Name === this.selectedWorkout);\n    if (!workout) return;\n\n    this.exercises = workout.Exercises.map(exercise => {\n        // Initialize reps and weights if they are not already initialized\n        exercise.Reps = exercise.Reps || new Array(exercise.Sets).fill(0);\n        exercise.Weights = exercise.Weights || new Array(exercise.Sets).fill(0);\n        return exercise;\n    });\n\n    this.disabledExercises = {};  // Reset disabled exercises when a new workout is selected\n},\n\n  handleInput(exerciseName) {\n    const currentExercise = this.exercises.find(ex => ex.Name === exerciseName);\n    const weightsNotEmpty = currentExercise.Weights.some(weight => weight > 0);\n\n    if (exerciseName === \"Benkpress med stong\") {\n      this.hideExercises[\"Benkpress med manuala\"] = weightsNotEmpty;\n      this.hideExercises[\"Benkpress med stong\"] = !weightsNotEmpty;\n    } else if (exerciseName === \"Benkpress med manuala\") {\n      this.hideExercises[\"Benkpress med stong\"] = weightsNotEmpty;\n      this.hideExercises[\"Benkpress med manuala\"] = !weightsNotEmpty;\n    }\n\n    if (!weightsNotEmpty) {\n      this.hideExercises[\"Benkpress med stong\"] = false;\n      this.hideExercises[\"Benkpress med manuala\"] = false;\n    }\n\n    if (currentExercise.SupersetWith) {\n        const partnerExercise = this.exercises.find(ex => ex.Name === currentExercise.SupersetWith);\n        if (weightsNotEmpty) {\n            this.hideExercises[partnerExercise.Name] = true;\n        } else {\n            this.hideExercises[partnerExercise.Name] = false;\n        }\n    }\n  },\n  saveWorkout() {\n      if (!this.workoutDate) {\n        alert('Please select a workout date.');\n        return;\n      }\n\n      const workoutData = {\n        Name: this.selectedWorkout,\n        Date: this.workoutDate,\n        Exercises: this.exercises\n      };\n\n      console.log(\"Saving workout session:\", workoutData);\n      axios.post('/api/log', workoutData)\n        .then(() => {\n            alert('Workout saved!');\n        })\n        .catch(error => {\n            console.error(\"Error saving workout:\", error);\n            console.error(\"Error details:\", error.response.data);\n        });\n    }\n}\n\n};\n</script>\n\n<style lang=\"scss\">\n$background-color: #000;\n$text-color: #fff;\n$button-color: #673ab7;\n$input-background: #9c27b0;\n$input-text-color: #fff;\n\n.container {\n  background-color: $background-color;\n  color: $text-color;\n  padding: 20px;\n  border-radius: 8px;\n  width: 90%;\n  max-width: 600px;\n  margin: 20px auto;\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n}\n\nselect, input[type=\"number\"] {\n  width: 100%;\n  padding: 8px;\n  margin: 10px 0;\n  background-color: $input-background;\n  color: $input-text-color;\n  border: 1px solid darken($input-background, 15%);\n  border-radius: 4px;\n  outline: none;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n\n  &::placeholder {\n    color: lighten($input-text-color, 20%);\n  }\n}\n\nbutton {\n  width: 100%;\n  padding: 10px;\n  background-color: $button-color;\n  color: $text-color;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: lighten($button-color, 10%);\n  }\n}\n\n.exercises {\n  margin-top: 20px;\n}\n\n.exercise-sets {\n  display: flex;\n  justify-content: space-between;\n  input {\n    flex: 1;\n    &:not(:last-child) {\n      margin-right: 10px;\n    }\n  }\n}\n</style>\n"],"mappings":"AA4BA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,EAAE;MACbC,eAAe,EAAE,IAAI;MACrBC,aAAa,EAAE,CAAC,CAAC;MACjBC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EACDC,QAAQ,EAAE;IACRC,iBAAiBA,CAAA,EAAG;MAClB,OAAO,IAAI,CAACP,SAAS,CAACQ,MAAM,CAACC,QAAO,IAAK,CAAC,IAAI,CAACP,aAAa,CAACO,QAAQ,CAACC,IAAI,CAAC,CAAC;IAC9E;EACF,CAAC;EACDC,OAAO,EAAE;IACPN,YAAYA,CAAA,EAAG;MACfR,KAAK,CAACe,GAAG,CAAC,eAAe,CAAC,CAACC,IAAI,CAACC,QAAO,IAAK;QAC1C,IAAI,CAACf,QAAO,GAAIe,QAAQ,CAAChB,IAAI;MAC/B,CAAC,CAAC,CAACiB,KAAK,CAACC,KAAI,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD,CAAC,CAAC;IACJ,CAAC;IACDE,cAAcA,CAAA,EAAG;MACf,MAAMC,OAAM,GAAI,IAAI,CAACpB,QAAQ,CAACqB,IAAI,CAACC,CAAA,IAAKA,CAAC,CAACX,IAAG,KAAM,IAAI,CAACT,eAAe,CAAC;MACxE,IAAI,CAACkB,OAAO,EAAE;MAEd,IAAI,CAACnB,SAAQ,GAAImB,OAAO,CAACG,SAAS,CAACC,GAAG,CAACd,QAAO,IAAK;QAC/C;QACAA,QAAQ,CAACe,IAAG,GAAIf,QAAQ,CAACe,IAAG,IAAK,IAAIC,KAAK,CAAChB,QAAQ,CAACiB,IAAI,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;QACjElB,QAAQ,CAACmB,OAAM,GAAInB,QAAQ,CAACmB,OAAM,IAAK,IAAIH,KAAK,CAAChB,QAAQ,CAACiB,IAAI,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;QACvE,OAAOlB,QAAQ;MACnB,CAAC,CAAC;MAEF,IAAI,CAACoB,iBAAgB,GAAI,CAAC,CAAC,EAAG;IAClC,CAAC;IAECC,WAAWA,CAACC,YAAY,EAAE;MACxB,MAAMC,eAAc,GAAI,IAAI,CAAChC,SAAS,CAACoB,IAAI,CAACa,EAAC,IAAKA,EAAE,CAACvB,IAAG,KAAMqB,YAAY,CAAC;MAC3E,MAAMG,eAAc,GAAIF,eAAe,CAACJ,OAAO,CAACO,IAAI,CAACC,MAAK,IAAKA,MAAK,GAAI,CAAC,CAAC;MAE1E,IAAIL,YAAW,KAAM,qBAAqB,EAAE;QAC1C,IAAI,CAAC7B,aAAa,CAAC,uBAAuB,IAAIgC,eAAe;QAC7D,IAAI,CAAChC,aAAa,CAAC,qBAAqB,IAAI,CAACgC,eAAe;MAC9D,OAAO,IAAIH,YAAW,KAAM,uBAAuB,EAAE;QACnD,IAAI,CAAC7B,aAAa,CAAC,qBAAqB,IAAIgC,eAAe;QAC3D,IAAI,CAAChC,aAAa,CAAC,uBAAuB,IAAI,CAACgC,eAAe;MAChE;MAEA,IAAI,CAACA,eAAe,EAAE;QACpB,IAAI,CAAChC,aAAa,CAAC,qBAAqB,IAAI,KAAK;QACjD,IAAI,CAACA,aAAa,CAAC,uBAAuB,IAAI,KAAK;MACrD;MAEA,IAAI8B,eAAe,CAACK,YAAY,EAAE;QAC9B,MAAMC,eAAc,GAAI,IAAI,CAACtC,SAAS,CAACoB,IAAI,CAACa,EAAC,IAAKA,EAAE,CAACvB,IAAG,KAAMsB,eAAe,CAACK,YAAY,CAAC;QAC3F,IAAIH,eAAe,EAAE;UACjB,IAAI,CAAChC,aAAa,CAACoC,eAAe,CAAC5B,IAAI,IAAI,IAAI;QACnD,OAAO;UACH,IAAI,CAACR,aAAa,CAACoC,eAAe,CAAC5B,IAAI,IAAI,KAAK;QACpD;MACJ;IACF,CAAC;IACD6B,WAAWA,CAAA,EAAG;MACV,IAAI,CAAC,IAAI,CAACpC,WAAW,EAAE;QACrBqC,KAAK,CAAC,+BAA+B,CAAC;QACtC;MACF;MAEA,MAAMC,WAAU,GAAI;QAClB/B,IAAI,EAAE,IAAI,CAACT,eAAe;QAC1ByC,IAAI,EAAE,IAAI,CAACvC,WAAW;QACtBmB,SAAS,EAAE,IAAI,CAACtB;MAClB,CAAC;MAEDiB,OAAO,CAAC0B,GAAG,CAAC,yBAAyB,EAAEF,WAAW,CAAC;MACnD5C,KAAK,CAAC+C,IAAI,CAAC,UAAU,EAAEH,WAAW,EAC/B5B,IAAI,CAAC,MAAM;QACR2B,KAAK,CAAC,gBAAgB,CAAC;MAC3B,CAAC,EACAzB,KAAK,CAACC,KAAI,IAAK;QACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7CC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACF,QAAQ,CAAChB,IAAI,CAAC;MACxD,CAAC,CAAC;IACN;EACJ;AAEA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}